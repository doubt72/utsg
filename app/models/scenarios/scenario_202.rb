# frozen_string_literal: true

module Scenarios
  class Scenario202 < Base
    ID = "202"
    NAME = "The Purple Heart Battalion"
    ALLIES = ["usa"].freeze
    AXIS = ["ger"].freeze
    STATUS = "p"

    DATE = [1943, 10, 18].freeze
    LAYOUT = [15, 23, "x"].freeze

    ALLIED_UNITS = {
      "0": {
        list: [
          [2, :usa_leader_5_1],
          [10, :usa_rifle_s],
          :usa_crew_t,
          [3, :usa_m1919_browning],
          :usa_m2_browning,
          :usa_m1_mortar,
          :usa_radio_105mm,
          :usa_75mm_m1_pack,
        ],
      },
    }.freeze

    AXIS_UNITS = {
      "0": {
        list: [
          :ger_leader_5_1,
          :ger_leader_4_1,
          [8, :ger_rifle_s],
          :ger_crew_t,
          [3, :ger_mg_42],
          :ger_8cm_grw_34,
          :ger_7_5cm_leig_18,
          :pillbox,
          :bunker,
        ],
      },
    }.freeze

    class << self
      def generate
        {
          turns: 6,
          first_setup: 2,
          first_move: 1,
          date:,
          location: "Benevento, Italy",
          author: "The Establishment",
          description:,
          map_data:,
          allied_units:,
          axis_units:,
        }
      end

      def description
        [
          "The 100th Infantry Battalion was a U.S. Army unit formed in 1942,
          composed almost entirely of second-generation Japanese Americans
          (Nisei) from Hawaii. Created at a time when Japanese Americans faced
          widespread suspicion and discrimination following the attack on
          Pearl Harbor, the unit was sent to fight in Europe to prove its
          loyalty. The 100th saw its first combat in Italy in 1943 and quickly
          earned a reputation for courage and effectiveness, participating in
          fierce battles at places like Monte Cassino and Anzio. Due to its
          high casualty rate, it became known as the \"Purple Heart Battalion.\"
          In 1944, it was integrated into the 442nd Regimental Combat Team,
          another all-Nisei unit, but retained its separate identity due to
          its earlier combat record. The 100th's bravery helped change
          perceptions of Japanese Americans and remains a powerful symbol of
          patriotism and perseverance in the face of prejudice.",

          "The 100th Infantry Battalion first saw combat in Italy, near the
          town of Salerno, in September 1943. Their initial action was part of
          the Allied invasion of mainland Italy, following the successful
          landings at Salerno during Operation Avalanche.  Shortly after
          arriving, the 100th was attached to the U.S. 34th Infantry Division
          and committed to the front lines. Their first battles were fought in
          the rugged terrain near Benevento, where they engaged German forces
          against the Volturno Line.",
        ]
      end

      def map_data
        {
          start_weather: 0,
          base_weather: 0,
          precip: [0, 2],
          wind: [0, 3, false],
          hexes:,
          layout:,
          allied_edge: "b",
          axis_edge: "t",
          victory_hexes: [
            [8, 2, 2], [2, 3, 2], [10, 8, 2], [7, 11, 2], [5, 15, 1],
          ],
          allied_setup: { "0" => [
            ["0-3", 10], ["0-6", 11], ["0-7", "12-15"], ["13-14", "13-14"], ["12-14", 15],
            ["*", "16-22"],
          ] },
          axis_setup: { "0" => [
            ["*", "0-8"], ["4-14", 9], ["8-14", "10-11"], ["9-12", 12], ["9-11", "12-14"],
          ] },
          base_terrain: "g",
        }
      end

      def hexes
        [
          [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 4, 6], t: "d" } },
            { t: "o", r: { d: [1, 5], t: "d" } },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
            { t: "o", h: 2 },
            { t: "o", h: 2 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o" },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o", h: 1 },
            { t: "o", h: 1 },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
            { t: "o", h: 3 },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [2, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", d: 2, st: { sh: "x", s: "f" } },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
            { t: "o", h: 3 },
            { t: "o", h: 2 },
            { t: "o", h: 2 },
            { t: "o", h: 3 },
          ], [
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 3, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "f" },
            { t: "f" },
            { t: "o" },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
            { t: "o", h: 3 },
            { t: "o", h: 2 },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
            { t: "o", h: 3 },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o", d: 2, st: { sh: "s", s: "f" } },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o" },
            { t: "f" },
            { t: "o" },
            { t: "o" },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
            { t: "o", h: 3 },
            { t: "o", h: 2 },
            { t: "o", h: 1 },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o", d: 5, st: { sh: "s", s: "f" } },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "f" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
            { t: "o", h: 2 },
            { t: "o", h: 1 },
            { t: "f" },
            { t: "o", h: 1 },
            { t: "o", h: 2 },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", h: 1 },
            { t: "o", h: 1 },
            { t: "o", h: 1 },
            { t: "f" },
            { t: "f" },
            { t: "o", h: 1 },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "f" },
            { t: "f" },
            { t: "f" },
          ], [
            { t: "d", d: 1 },
            { t: "f" },
            { t: "f" },
            { t: "f" },
            { t: "d", d: 1.5 },
            { t: "o", r: { d: [2, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 5], t: "d" } },
            { t: "o", d: 2, st: { sh: "l", s: "f" } },
            { t: "o" },
            { t: "o" },
            { t: "f" },
            { t: "f" },
          ], [
            { t: "w" },
            { t: "w" },
            { t: "w" },
            { t: "w" },
            { t: "d", d: 1.5 },
            { t: "d", d: 1 },
            { t: "d", d: 1 },
            { t: "d", d: 1.5 },
            { t: "o", r: { d: [4, 6], t: "d" } },
            { t: "o", r: { d: [1, 2, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "d", d: 1 },
            { t: "d", d: 1 },
            { t: "f" },
            { t: "f" },
            { t: "y" },
            { t: "y" },
            { t: "w" },
            { t: "w" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o" },
            { t: "o", r: { d: [2, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "d", d: 1.5 },
            { t: "d", d: 1 },
            { t: "f" },
            { t: "f" },
            { t: "w", r: { d: [3, 6], t: "d" } },
            { t: "d", d: 2 },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "f" },
            { t: "f" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "w" },
            { t: "d", d: 2 },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "y" },
            { t: "w" },
          ], [
            { t: "o" },
            { t: "o", d: 1, st: { sh: "l", s: "f" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "f" },
            { t: "w" },
            { t: "f" },
            { t: "o" },
            { t: "f" },
            { t: "y" },
            { t: "f" },
            { t: "f" },
          ], [
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 5], t: "d" } },
            { t: "o", d: 1.5, st: { sh: "l", s: "f" } },
            { t: "o" },
            { t: "o", d: 1, st: { sh: "l", s: "f" } },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "d", d: 2.5 },
            { t: "w" },
            { t: "f" },
            { t: "f" },
            { t: "f" },
            { t: "w" },
            { t: "f" },
            { t: "o" },
          ], [
            { t: "o", d: 1, st: { sh: "l", s: "f" } },
            { t: "o", d: 1, st: { sh: "l", s: "f" } },
            { t: "o", r: { d: [2, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 3, 4, 6], t: "d" } },
            { t: "o", r: { d: [1, 5], t: "d" } },
            { t: "d", d: 2 },
            { t: "w" },
            { t: "w" },
            { t: "w" },
            { t: "w" },
            { t: "f" },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", d: 3, st: { sh: "s", s: "f" } },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o", d: 3, st: { sh: "s", s: "f" } },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "d", d: 1.5 },
            { t: "d", d: 1 },
            { t: "d", d: 1 },
            { t: "d", d: 1 },
            { t: "d", d: 3.5 },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", d: 6, st: { sh: "s", s: "f" } },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o", d: 6, st: { sh: "s", s: "f" } },
            { t: "o" },
            { t: "o", r: { d: [2, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 4], t: "d" } },
            { t: "o", r: { d: [1, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o", d: 1.5, st: { sh: "l", s: "f" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o", d: 3, st: { sh: "l", s: "f" } },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o", d: 3, st: { sh: "l", s: "f" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o", d: 2, st: { sh: "l", s: "f" } },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o", d: 3, st: { sh: "l", s: "f" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", d: 2, st: { sh: "l", s: "f" } },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o" },
            { t: "o" },
          ], [
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [3, 6], t: "d" } },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o" },
            { t: "o", r: { d: [2, 5], t: "d" } },
            { t: "o" },
          ],
        ]
      end
    end
  end
end
